---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: external-secrets
  namespace: argocd
spec:
  project: default
  source:
    chart: external-secrets
    repoURL: https://charts.external-secrets.io
    targetRevision: 0.13.0
  destination:
    server: "https://kubernetes.default.svc"
    namespace: external-secrets
  syncPolicy:
    syncOptions:
    - CreateNamespace=true
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    sealedsecrets.bitnami.com/namespace-wide: "true"
  creationTimestamp: null
  name: infisical-machine-identity
  namespace: external-secrets
spec:
  encryptedData:
    clientId: AgC2t563LlIBh5OkeppCqaXln0CkuKAPugHfAzwRS/dEOjfHI56kp/gb9TZ/Bca2a6nI+uGeCHoqZdwQQlmWv1i8V2nAlNkg4KjaPDE17HNtmGJBiHqeM13xCwKuSKVF4P3DIJwaTcya/S7yVeW+H6cm1QAZbezABq1c0b6l32kmYfwkPHNegNCFgQ2QEulazgDXkXzOxe3D4yaYRDECD6gexfhQr1fsbrsAPr5k7X9NsUJUlgVyQ7MetqAcWh0qK7wn22z1pkKHoyyJ/0n8qLfciBnVlYQwNiki2yTyCByYxbDFLkkt9WXOKltzexmGFyvI3I5I4wwW+YHKStgToI7ctSjnCAdEevhK+6JtErnkoOp0XwDgMIJZdayzkXKxiRzkQdPi5P4ZCrzpELAoFb2uQe/7DcKebrKOtiOi7d0G+60YmGLmGvgVhhMV6YHwkmx1Epu6I378pkCa6M9oMiZt/ra4HoSiyEAGigzLjaGNFPbT4JoLDv711xf0Ln59qj7rG1s96NtF3ejTESap+LHVl2+RT4GX5Ulgo4xgdFCtRi7AIqySjMQMTx2OekzrfiM+Jij1v2U1n/JNpH7IeiePKcHpEFAfMNTfH6f/l4EuT83cT47WX4AQkVas3xHbaaXjQ2PxOlVVbSP91W7k41gnz3SZO6mBunhoPXdvHGTgVHQO/aySQ1nGPS6Zup/18HShDdnpPhxXscTCmzpv9Zo7joLdAY6VKbSub5yWmJOhRnceHUGO1w==
    clientSecret: AgA+SQCR/miArIZK9dkbNwvjvUORV7Q5kraexjNDETygHM3J6gjpMqpqONplJtfp5LL9jHHc3a2AUAW8mWk6eMnrC0YDFHnMAzReGQdDSmRfU2fsAb3By+7zsfKMRLvBhULc2PPSAyO26NrwOEz3EoGgN7jGs4hFK5AtJLFJunOR2OOUT8tGK+h2pwfKM07HNcrt+//ST0MQFntT+whae79XRlszZf5IFxo+YtAWsgctCLrgcqWilkWJKHN8aHgdwzFPIq+8HpFLQuH3YKS3Grvt5VxlMQegk20Gq231EP3ZFax1xtXFa0zWEItGOyy7DkXyYekh3/aaltYK+uEXgYpFchbwswo2T6t+XrPjyNxxBv41uOXle6usYPAO3cHSFkUBoc3BGk8t4qOkpVm1i6EKuBgPZEGX2b4x+PqxdmyoRHUaq8Yk5/2Q4RsxSW4Gj23SIdl29ObK7p8Bru4rsE+qqHSNa9PmG7lJtf88QGFz2odwK8pd8RBlMDxMTiIDT1dz2lmi8/+/LUeQVA7bihxZmdv0QCR8MlO/fDwsy9Ys80wXCo27P+3jLqtGaxsMWuM+h/NXk5ljk8bQzjkQZDC/xIR7ySxim9fPxtEu8iMRa6yFY7C4e4YToKBscuEFYMNTZHv/u7idDkdY8XTxELPYMcgjf+mBrjQcEwCeQBq4HfuJ/HT4+z2j9NkWXNo4LTonZuzIni2gCjW5J8cKOf57E2GVBsHU4VLnsHUDYLzt6/DzWF6cVTfTKYd7/lhjpoHX1IX3JrzJ1lpdmmd11ajzWPk=
  template:
    metadata:
      annotations:
        sealedsecrets.bitnami.com/namespace-wide: "true"
      creationTimestamp: null
      name: infisical-machine-identity
      namespace: external-secrets
---
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: infisical
spec:
  provider:
    infisical:
      auth:
        universalAuthCredentials:
          clientId:
            key: clientId
            namespace: external-secrets
            name: infisical-machine-identity
          clientSecret:
            key: clientSecret
            namespace: external-secrets
            name: infisical-machine-identity
      secretsScope:
        projectSlug: oracle-kubernetes-4x-h5
        environmentSlug: prod
        secretsPath: / # Root is "/"
        recursive: true # Default is false
      hostAPI: https://eu.infisical.com
